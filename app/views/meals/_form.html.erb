<%= form_for(meal) do |f| %>
  <% if meal.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(meal.errors.count, "error") %> prohibited this meal from being saved:</h2>

      <ul>
      <% meal.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= f.label :plan_id %>
    <%= f.text_field :plan_id , :value => params[:plan], :readonly => true%>
  </div>

  <p>
  <div class="field">
    <%= f.label :food_id %>
    <%= f.select :food_id , options_for_select(Food.all.order('name').map{|s|[s.name, s.id]}) %>
  </div>
  Dont see your food in available selection? Add it to database.<br>
  <%= link_to 'Manage Food Database', '/foods', target: '_blank' %><br>
  Refresh the page to see recently added items.</p>

  <div class="field">
    <%= f.label :grams %>
    <%= f.number_field :grams %>
  </div>

  <div class="actions">
    <%= f.submit %>
  </div>
<% end %>
